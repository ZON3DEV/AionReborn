!function(t){var e,i,n=t.Chart,s=t.addEvent,o=t.removeEvent,r=t.createElement,a=t.discardElement,l=t.css,h=t.merge,c=t.each,p=t.extend,u=Math,d=u.max,f=document,g=window,m=t.isTouchDevice,y="M",v="L",x="div",b="hidden",w="none",P="highcharts-",k="absolute",E="px",T=t.Renderer.prototype.symbols,C=t.getOptions();p(C.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),C.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:w,color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},C.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e){var i,n;n=r("form",{method:"post",action:t,enctype:"multipart/form-data"},{display:w},f.body);for(i in e)r("input",{type:b,name:i,value:e[i]},null,n);n.submit(),a(n)},p(n.prototype,{getSVG:function(i){var n,s,o,l,u,d,g,m,y=this,v=h(y.options,i);return f.createElementNS||(f.createElementNS=function(t,e){return f.createElement(e)}),s=r(x,null,{position:k,top:"-9999em",width:y.chartWidth+E,height:y.chartHeight+E},f.body),g=y.renderTo.style.width,m=y.renderTo.style.height,u=v.exporting.sourceWidth||v.chart.width||/px$/.test(g)&&parseInt(g,10)||600,d=v.exporting.sourceHeight||v.chart.height||/px$/.test(m)&&parseInt(m,10)||400,p(v.chart,{animation:!1,renderTo:s,forExport:!0,width:u,height:d}),v.exporting.enabled=!1,v.series=[],c(y.series,function(t){l=h(t.options,{animation:!1,showCheckbox:!1,visible:t.visible}),l.isInternal||v.series.push(l)}),n=new t.Chart(v,y.callback),c(["xAxis","yAxis"],function(t){c(y[t],function(i,s){var o=n[t][s],r=i.getExtremes(),a=r.userMin,l=r.userMax;!o||a===e&&l===e||o.setExtremes(a,l,!0,!1)})}),o=n.container.innerHTML,v=null,n.destroy(),a(s),o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()}),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(e,i){e=e||{};var n=this,s=n.options.exporting,o=n.getSVG(h({chart:{borderRadius:0}},s.chartOptions,i,{exporting:{sourceWidth:e.sourceWidth||s.sourceWidth,sourceHeight:e.sourceHeight||s.sourceHeight}}));e=h(n.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:o})},print:function(){var t=this,e=t.container,i=[],n=e.parentNode,s=f.body,o=s.childNodes;t.isPrinting||(t.isPrinting=!0,c(o,function(t,e){1===t.nodeType&&(i[e]=t.style.display,t.style.display=w)}),s.appendChild(e),g.focus(),g.print(),setTimeout(function(){n.appendChild(e),c(o,function(t,e){1===t.nodeType&&(t.style.display=i[e])}),t.isPrinting=!1},1e3))},contextMenu:function(t,e,i,n,o,a,h){var u,f,g,m,y=this,v=y.options.navigation,b=v.menuItemStyle,T=y.chartWidth,C=y.chartHeight,M="cache-"+t,A=y[M],L=d(o,a),S="3px 3px 10px #888";A||(y[M]=A=r(x,{className:P+t},{position:k,zIndex:1e3,padding:L+E},y.container),u=r(x,null,p({MozBoxShadow:S,WebkitBoxShadow:S,boxShadow:S},v.menuStyle),A),f=function(){l(A,{display:w}),h&&h.setState(0),y.openMenu=!1},s(A,"mouseleave",function(){g=setTimeout(f,500)}),s(A,"mouseenter",function(){clearTimeout(g)}),c(e,function(t){if(t){var e=t.separator?r("hr",null,null,u):r(x,{onmouseover:function(){l(this,v.menuItemHoverStyle)},onmouseout:function(){l(this,b)},onclick:function(){f(),t.onclick.apply(y,arguments)},innerHTML:t.text||y.options.lang[t.textKey]},p({cursor:"pointer"},b),u);y.exportDivElements.push(e)}}),y.exportDivElements.push(u,A),y.exportMenuWidth=A.offsetWidth,y.exportMenuHeight=A.offsetHeight),m={display:"block"},i+y.exportMenuWidth>T?m.right=T-i-o-L+E:m.left=i-L+E,n+a+y.exportMenuHeight>C&&"top"!==h.alignOptions.verticalAlign?m.bottom=C-n-L+E:m.top=n+a-L+E,l(A,m),y.openMenu=!0},addButton:function(e){var n,s,o,r=this,a=r.renderer,l=h(r.options.navigation.buttonOptions,e),c=l.onclick,u=l.menuItems,d={stroke:l.symbolStroke,fill:l.symbolFill},f=l.symbolSize||12;if(r.btnCount||(r.btnCount=0),o=r.btnCount++,r.exportDivElements||(r.exportDivElements=[],r.exportSVGElements=[]),l.enabled!==!1){var g,m=l.theme,y=m.states,v=y&&y.hover,x=y&&y.select;delete m.states,c?g=function(){c.apply(r,arguments)}:u&&(g=function(){r.contextMenu("contextmenu",u,s.translateX,s.translateY,s.width,s.height,s),s.setState(2)}),l.text&&l.symbol?m.paddingLeft=t.pick(m.paddingLeft,25):l.text||p(m,{width:l.width,height:l.height,padding:0}),s=a.button(l.text,0,0,g,m,v,x).attr({title:r.options.lang[l._titleKey],"stroke-linecap":"round"}),l.symbol&&(n=a.symbol(l.symbol,l.symbolX-f/2,l.symbolY-f/2,f,f).attr(p(d,{"stroke-width":l.symbolStrokeWidth||1,zIndex:1})).add(s)),s.add().align(p(l,{width:s.width,x:t.pick(l.x,i)}),!0,"spacingBox"),i+=(s.width+l.buttonSpacing)*("right"===l.align?-1:1),r.exportSVGElements.push(s,n)}},destroyExport:function(t){var e,i,n=t.target;for(e=0;e<n.exportSVGElements.length;e++)i=n.exportSVGElements[e],i&&(i.onclick=i.ontouchstart=null,n.exportSVGElements[e]=i.destroy());for(e=0;e<n.exportDivElements.length;e++)i=n.exportDivElements[e],o(i,"mouseleave"),n.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,a(i)}}),T.menu=function(t,e,i,n){var s=[y,t,e+2.5,v,t+i,e+2.5,y,t,e+n/2+.5,v,t+i,e+n/2+.5,y,t,e+n-1.5,v,t+i,e+n-1.5];return s},n.prototype.callbacks.push(function(t){var e,n=t.options.exporting,o=n.buttons;if(i=0,n.enabled!==!1){for(e in o)t.addButton(o[e]);s(t,"destroy",t.destroyExport)}})}(Highcharts);